{% extends "base.html" %}

{% block title %}Real-Time Intelligence Dashboard{% endblock %}

{% block content %}
<div class="row">
    <!-- Control Panel -->
    <div class="col-lg-4">
        <div class="card bg-secondary border-primary">
            <div class="card-header bg-primary">
                <h5 class="mb-0">
                    <i class="fas fa-rocket me-2"></i>Launch Intelligence Gathering
                </h5>
            </div>
            <div class="card-body">
                <form id="searchForm">
                    <div class="mb-3">
                        <label class="form-label">Keywords</label>
                        <textarea class="form-control bg-dark text-light border-info" 
                                  id="keywords" rows="3" 
                                  placeholder="indian navy, naval ships, INS, submarines">indian navy
naval ships
INS ships
submarines</textarea>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Search Engines</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="duckduckgo" id="engine1" checked>
                            <label class="form-check-label" for="engine1">DuckDuckGo</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="google_dork" id="engine2">
                            <label class="form-check-label" for="engine2">Google Dorking</label>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-success w-100">
                        <i class="fas fa-search me-2"></i>Start Intelligence Gathering
                    </button>
                </form>
            </div>
        </div>

        <!-- Real-time Stats -->
        <div class="card bg-secondary border-success mt-3">
            <div class="card-header bg-success">
                <h6 class="mb-0">
                    <i class="fas fa-chart-line me-2"></i>Live Statistics
                </h6>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-6">
                        <div class="stat-item">
                            <div class="stat-value text-info" id="totalDocuments">0</div>
                            <div class="stat-label">Documents</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="stat-item">
                            <div class="stat-value text-warning" id="totalImages">0</div>
                            <div class="stat-label">Images</div>
                        </div>
                    </div>
                    <div class="col-6 mt-2">
                        <div class="stat-item">
                            <div class="stat-value text-danger" id="totalVideos">0</div>
                            <div class="stat-label">Videos</div>
                        </div>
                    </div>
                    <div class="col-6 mt-2">
                        <div class="stat-item">
                            <div class="stat-value text-success" id="domainsScraped">0</div>
                            <div class="stat-label">Domains</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Activity Feed -->
    <div class="col-lg-8">
        <div class="card bg-secondary border-info">
            <div class="card-header bg-info text-dark">
                <h5 class="mb-0">
                    <i class="fas fa-stream me-2"></i>Real-Time Intelligence Feed
                </h5>
            </div>
            <div class="card-body p-0">
                <div id="activityFeed" class="activity-feed" style="height: 400px; overflow-y: auto;">
                    <div class="text-center p-4 text-muted">
                        <i class="fas fa-satellite-dish fa-3x mb-3"></i>
                        <p>Start intelligence gathering to see real-time updates</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Visualization -->
        <div class="card bg-secondary border-warning mt-3">
            <div class="card-header bg-warning text-dark">
                <h6 class="mb-0">
                    <i class="fas fa-tasks me-2"></i>Search Progress
                </h6>
            </div>
            <div class="card-body">
                <div id="searchProgress">
                    <p class="text-muted text-center">No active searches</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Discoveries -->
<div class="row mt-4">
    <div class="col-12">
        <div class="card bg-secondary border-primary">
            <div class="card-header bg-primary">
                <h5 class="mb-0">
                    <i class="fas fa-eye me-2"></i>Recent Intelligence Discoveries
                </h5>
            </div>
            <div class="card-body">
                <div id="recentDiscoveries" class="row">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
